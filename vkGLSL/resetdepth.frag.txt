#version 450

// 输入纹理坐标，从顶点着色器传递过来
layout(location = 0) in vec2 TexCoord;

// 输出深度值
layout(location = 0) out float FragDepth;

// 均匀变量
layout(binding = 0) uniform sampler2D u_vram; // 纹理采样器

void main()
{
    // 采样纹理
    vec4 color = texture(u_vram, TexCoord);

    // 设置深度值（Vulkan 使用 gl_FragDepth 替代 OpenGL 的内置变量）
    FragDepth = 1.0 - color.a;
}