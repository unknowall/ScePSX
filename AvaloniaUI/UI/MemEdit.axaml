<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="500"
        xmlns:local="clr-namespace:ScePSX.UI"
        x:Class="ScePSX.UI.MemEdit"
        Name="FrmMemEdit"
        WindowStartupLocation="CenterOwner"
        CanResize="False"
        Title="MemEdit"
        Width="900"
        Height="500"
        RequestedThemeVariant="Light"
        Background="#FFF5F5F5">

    <Window.Styles>
        <Style Selector="Button">
            <Setter Property="Height" Value="30"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="BorderBrush" Value="#FFD0D0D0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style Selector="Button:pointerover">
            <Setter Property="Background" Value="#FFE8E8E8"/>
        </Style>
            <Style Selector="TextBox">
            <Setter Property="FontFamily" Value="Consolas, Courier New, monospace"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="BorderBrush" Value="#FFD0D0D0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,6"/>
        </Style>
        <Style Selector="TextBox:focus">
            <Setter Property="BorderBrush" Value="#FF0078D4"/>
        </Style>
    </Window.Styles>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="865*" />
            <ColumnDefinition Width="300*" />
        </Grid.ColumnDefinitions>

        <!-- 左侧面板 - HexBox -->
        <Border Grid.Column="0" Padding="0">
            <DockPanel LastChildFill="True">
                <!-- 顶部工具栏 -->
                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Spacing="5" Margin="10,5">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="0x" VerticalAlignment="Center" Margin="0,0,2,0" />
                        <TextBox x:Name="tbgoto" Width="119" />
                    </StackPanel>
                    <Button x:Name="btngo" Content="前往地址" MinWidth="75" />
                    <ComboBox x:Name="CboEncode" Width="100" />
                    <CheckBox x:Name="chkupd" Content="自动刷新" VerticalAlignment="Center" />
                    <Button x:Name="btnupd" Content="刷新" MinWidth="50" />
                </StackPanel>

                <!-- HexBox 控件 -->
                <local:HexBox x:Name="HexBox" />
            </DockPanel>
        </Border>

        <!-- 右侧面板 - 搜索和结果 -->
        <Border Grid.Column="1" Padding="10,0,0,0" >
            <DockPanel LastChildFill="True">
                <StackPanel DockPanel.Dock="Top" Spacing="10">

                    <TextBlock Grid.Column="0" x:Name="labSearch"
                               Text="内存搜索"
                               FontWeight="Bold"
                               FontSize="16"
                               Margin="15,5,0,5"
                               VerticalAlignment="Center" />


                    <!-- 搜索输入 -->
                    <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto">
                        <TextBox Grid.Row="0" Grid.Column="2" x:Name="findb"
                                 Watermark="0x64 or 100"
                                 Width="200"
                                 Margin="15,0,15,5" />
                        <Button Grid.Row="1" Grid.Column="1" x:Name="btnr"
                                Content="重置" MinWidth="50"
                                Margin="15,0,10,5" />
                        <Button Grid.Row="1" Grid.Column="1" x:Name="btns"
                                Content="搜索"
                                MinWidth="50"
                                Margin="0,0,15,5"
                                HorizontalAlignment="Right" />
                    </Grid>

                    <!-- 搜索类型组 -->
                    <Border BorderBrush="#FFABABAB"
                            BorderThickness="1"
                            CornerRadius="3"
                            Padding="12,8,12,8"
                            Margin="15,5,10,5">
                        <StackPanel>
                            <TextBlock Text="搜索类型"
                                       Name="labscantype"
                                       FontWeight="SemiBold"
                                       Margin="0,0,0,8"/>
                            <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto">
                                <RadioButton Grid.Row="0" Grid.Column="0" x:Name="rbbyte"
                                             Content="Byte"
                                             GroupName="SearchType"
                                             IsChecked="True"
                                             Margin="0,2" />
                                <RadioButton Grid.Row="0" Grid.Column="1" x:Name="rbWord"
                                             Content="WORD"
                                             GroupName="SearchType"
                                             Margin="0,2" />
                                <RadioButton Grid.Row="1" Grid.Column="0" x:Name="rbDword"
                                             Content="DWORD"
                                             GroupName="SearchType"
                                             Margin="0,2" />
                                <RadioButton Grid.Row="1" Grid.Column="1" x:Name="rbfloat"
                                             Content="Float"
                                             GroupName="SearchType"
                                             Margin="0,2" />
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- 搜索结果提示 -->
                    <TextBlock x:Name="labFirst500"
                               Text="搜索到0个地址 只显示前500个"
                               FontWeight="Bold"
                               Margin="15,5,10,5"
                               FontSize="12" />
                </StackPanel>

                <!-- 搜索结果表格 -->
                <ListBox x:Name="scanresult"
                         Grid.Row="1"
                         BorderThickness="1"
                         Background="Transparent"
                         SelectionMode="Single"
                         Margin="15,4,10,10">
                    <ListBox.ItemTemplate>
                        <DataTemplate DataType="local:MemoryItem">
                            <Grid ColumnDefinitions="Auto,Auto,*">
                                <TextBox Grid.Column="0"
                                         Text="{Binding Address}"
                                         VerticalAlignment="Center"
                                         FontSize="13"
                                         BorderThickness="0"
                                         IsReadOnly="True"
                                         />

                                <TextBlock Grid.Column="1"
                                           Text="{Binding Value}"
                                           FontSize="13"
                                           Margin="15,0,0,0"
                                           VerticalAlignment="Center"/>
                            </Grid>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </DockPanel>
        </Border>
    </Grid>

</Window>