<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="640" d:DesignHeight="530"
        xmlns:local="clr-namespace:ScePSX.UI"
        x:Class="ScePSX.UI.CheatFrm"
        Title="é‡‘æ‰‹æŒ‡"
        Name="FrmCheat"
        Width="640"
        Height="530"
        WindowStartupLocation="CenterOwner"
        CanResize="False"
        RequestedThemeVariant="Light"
        Background="#FFF5F5F5">

    <Window.Styles>
        <!-- å¡ç‰‡æ ·å¼ -->
        <Style Selector="Border.card">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#FFE4E4E4"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="16"/>
        </Style>

        <!-- æŒ‰é’®æ ·å¼ -->
        <Style Selector="Button">
            <Setter Property="Height" Value="30"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="BorderBrush" Value="#FFD0D0D0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style Selector="Button:pointerover">
            <Setter Property="Background" Value="#FFE8E8E8"/>
        </Style>

        <!-- ä¸»è¦æŒ‰é’® -->
        <Style Selector="Button.primary">
            <Setter Property="Background" Value="#FF0078D4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#FF0060A0"/>
        </Style>
        <Style Selector="Button.primary:pointerover">
            <Setter Property="Background" Value="#FF0086E6"/>
        </Style>

        <!-- æ–‡æœ¬æ¡†æ ·å¼ -->
        <Style Selector="TextBox">
            <Setter Property="FontFamily" Value="Consolas, Courier New, monospace"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="BorderBrush" Value="#FFD0D0D0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,6"/>
        </Style>
        <Style Selector="TextBox:focus">
            <Setter Property="BorderBrush" Value="#FF0078D4"/>
        </Style>

        <!-- åˆ—è¡¨é¡¹æ ·å¼ -->
        <Style Selector="ListBoxItem">
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>
        <Style Selector="ListBoxItem:selected">
            <Setter Property="Background" Value="#FFE6F0FA"/>
            <Setter Property="Foreground" Value="#FF2D2D2D"/>
        </Style>
        <Style Selector="ListBoxItem:pointerover">
            <Setter Property="Background" Value="#FFF0F0F0"/>
        </Style>

        <!-- åˆ†éš”çº¿ -->
        <Style Selector="Rectangle.separator">
            <Setter Property="Fill" Value="#FFE8E8E8"/>
            <Setter Property="Height" Value="1"/>
            <Setter Property="Margin" Value="0,8,0,8"/>
        </Style>
    </Window.Styles>

    <Border Classes="card" Margin="16">
        <Grid RowDefinitions="Auto,*,Auto">
            <!-- ========== é¡¶éƒ¨å·¥å…·æ  ========== -->
            <Grid Grid.Row="0" ColumnDefinitions="Auto,Auto,Auto,*,Auto" Margin="0,0,0,12">
                <Button Grid.Column="0"
                        x:Name="btnadd"
                        Content="âž• å¢žåŠ "
                        Click="BtnAdd_Click"
                        Margin="0,0,5,0"/>
                <Button Grid.Column="1"
                        x:Name="btndel"
                        Content="ðŸ—‘ï¸ åˆ é™¤"
                        Click="BtnDel_Click"
                        Margin="0,0,5,0"/>
                <Button Grid.Column="2"
                        x:Name="BtnSearchCheat"
                        Content="ðŸŒ ä¸‹è½½é‡‘æ‰‹æŒ‡"
                        MinWidth="110"
                        Click="BtnSearch_Click"
                        Classes="primary"
                        Margin="0,0,0,0"/>
                <TextBlock Grid.Column="4"
                           x:Name="labStatus"
                           FontSize="12"
                           Foreground="#FF666666"
                           VerticalAlignment="Center"
                           />
            </Grid>

            <!-- ========== ä¸»å†…å®¹åŒºï¼šé‡‘æ‰‹æŒ‡åˆ—è¡¨ + ä»£ç ç¼–è¾‘ ========== -->
            <Grid Grid.Row="1" ColumnDefinitions="280,*,8,280" Margin="0,0,0,12">
                <!-- å·¦ä¾§ï¼šé‡‘æ‰‹æŒ‡åˆ—è¡¨ -->
                <Border Grid.Column="0"
                        BorderBrush="#FFE8E8E8"
                        BorderThickness="1"
                        CornerRadius="6"
                        Background="White">
                    <Grid RowDefinitions="Auto,*">
                        <!-- åˆ—è¡¨æ ‡é¢˜ -->
                        <Border Grid.Row="0"
                                Background="#FFF9F9F9"
                                CornerRadius="6,6,0,0"
                                Padding="12,8"
                                BorderBrush="#FFE8E8E8"
                                BorderThickness="0,0,0,1">
                            <Grid ColumnDefinitions="Auto,*">
                                <CheckBox x:Name="chkSelectAll"
                                          IsChecked="False"
                                          Margin="0,0,8,0"
                                          IsVisible="False"/>
                                <TextBlock Grid.Column="1"
                                           Text="ðŸ“‹ é‡‘æ‰‹æŒ‡åˆ—è¡¨"
                                           Name="labcodelist"
                                           FontWeight="SemiBold"
                                           Foreground="#FF2D2D2D"
                                           FontSize="13"/>
                            </Grid>
                        </Border>

                        <!-- åˆ—è¡¨å†…å®¹ -->
                        <ListBox x:Name="clb"
                                 Grid.Row="1"
                                 BorderThickness="0"
                                 Background="Transparent"
                                 SelectionMode="Single"
                                 SelectionChanged="Clb_SelectionChanged"
                                 DoubleTapped="Clb_DbCLick"
                                 Margin="0,4,0,0">
                            <ListBox.ItemTemplate>
                                <DataTemplate DataType="local:CheatItem">
                                    <Grid ColumnDefinitions="Auto,*,Auto">
                                        <CheckBox Grid.Column="0"
                                                  IsChecked="{Binding IsChecked}"
                                                  Margin="0,0,8,0"
                                                  VerticalAlignment="Center"/>

                                        <TextBox Grid.Column="1"
                                                 x:Name="txtName"
                                                 Text="{Binding Name, Mode=TwoWay}"
                                                 VerticalAlignment="Center"
                                                 Padding="4,2"
                                                 FontSize="13"
                                                 BorderThickness="0"
                                                 Background="Transparent"
                                                 IsReadOnly="True"
                                                 LostFocus="EditName_LostFocus"
                                                 KeyDown="EditName_KeyDown"/>

                                        <TextBlock Grid.Column="2"
                                                   Text="{Binding CodeCount}"
                                                   Foreground="#FF888888"
                                                   FontSize="11"
                                                   Margin="4,0,0,0"
                                                   VerticalAlignment="Center"/>
                                    </Grid>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </Grid>
                </Border>

                <!-- åˆ†éš”è£…é¥° -->
                <Rectangle Grid.Column="2" Fill="Transparent"/>

                <!-- å³ä¾§ï¼šä»£ç ç¼–è¾‘åŒº -->
                <Border Grid.Column="3"
                        BorderBrush="#FFE8E8E8"
                        BorderThickness="1"
                        CornerRadius="6"
                        Background="White">
                    <Grid RowDefinitions="Auto,*" Margin="0,0,0,0">
                        <!-- ç¼–è¾‘åŒºæ ‡é¢˜ -->
                        <Border Grid.Row="0"
                                Background="#FFF9F9F9"
                                CornerRadius="6,6,0,0"
                                Padding="12,8"
                                BorderBrush="#FFE8E8E8"
                                BorderThickness="0,0,0,1">
                            <TextBlock Text="âœï¸ ä»£ç ç¼–è¾‘"
                                       Name="labcodeedit"
                                       FontWeight="SemiBold"
                                       Foreground="#FF2D2D2D"
                                       FontSize="13"/>
                        </Border>

                        <!-- ä»£ç æ–‡æœ¬æ¡† -->
                        <TextBox x:Name="ctb"
                                 Grid.Row="1"
                                 AcceptsReturn="True"
                                 TextWrapping="Wrap"
                                 Watermark="XXXXXXXX YYYY&#xA;e.g: 0x80000000 0x10"
                                 BorderThickness="0"
                                 Background="Transparent"
                                 Padding="12"
                                 FontFamily="Consolas, Courier New, monospace"
                                 FontSize="12"/>
                    </Grid>
                </Border>
            </Grid>

            <!-- ========== åº•éƒ¨æ“ä½œæ  ========== -->
            <Border Grid.Row="2"
                    Background="#FFF9F9F9"
                    CornerRadius="6"
                    Padding="16,12"
                    BorderBrush="#FFE8E8E8"
                    BorderThickness="1">
                <Grid ColumnDefinitions="*,Auto,Auto,Auto,Auto">
                    <!-- çŠ¶æ€æç¤º -->
                    <TextBlock Grid.Column="0"
                               x:Name="labDiskID"
                               Text="å°±ç»ª"
                               VerticalAlignment="Center"
                               Foreground="#FF666666"
                               FontSize="12"
                               FontWeight="SemiBold"/>

                    <!-- æ“ä½œæŒ‰é’®ç»„ -->
                    <Button Grid.Column="1"
                            x:Name="btnload"
                            Content="ðŸ“‚ è¯»å–"
                            Click="BtnLoad_Click"
                            Margin="0,0,8,0"/>
                    <Button Grid.Column="2"
                            x:Name="BtnSave"
                            Content="ðŸ’¾ ä¿å­˜"
                            Click="BtnSave_Click"
                            Margin="0,0,8,0"/>
                    <Button Grid.Column="3"
                            x:Name="btnimp"
                            Content="ðŸ“Ž å¯¼å…¥"
                            Click="BtnImport_Click"
                            Margin="0,0,8,0"/>
                    <Button Grid.Column="4"
                            x:Name="btnapply"
                            Content="âš¡ åº”ç”¨"
                            Click="BtnApply_Click"
                            Classes="primary"/>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>